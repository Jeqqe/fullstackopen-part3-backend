{"version":3,"sources":["components/PersonForm.js","components/Filter.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["PersonForm","handleSubmit","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","value","onChange","type","Filter","filter","handleFilterChange","Person","handleDelete","id","name","number","onClick","Persons","persons","person","toLowerCase","includes","map","Notification","announcement","className","message","baseUrl","exportedObject","getAll","axios","get","then","response","data","create","newPerson","post","update","put","remove","delete","App","useState","setPersons","setNewName","setNewNumber","setFilter","setAnnouncement","useEffect","personService","initialPersons","successAnnouncement","setTimeout","errorAnnouncement","event","target","preventDefault","find","window","confirm","personObject","returnedPerson","catch","error","concat","returnedPersons","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0d681b42.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst PersonForm = ({handleSubmit, newName, handleNameChange, newNumber, handleNumberChange}) => {\r\n\treturn (\r\n\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t<div>\r\n\t\t\t\tname: <input \r\n\t\t\t\t\tvalue={newName}\r\n\t\t\t\t\tonChange={handleNameChange}/>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\tnumber: <input \r\n\t\t\t\t\tvalue={newNumber}\r\n\t\t\t\t\tonChange={handleNumberChange}/>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<button type=\"submit\">add</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Filter = ({filter, handleFilterChange}) => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\tfilter shown with: <input \r\n\t\t\t\tvalue={filter}\r\n\t\t\t\tonChange={handleFilterChange}/>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Person = ({ handleDelete, id, name, number }) => {\r\n    return (\r\n        <tr>\r\n            <td>{name}</td>\r\n            <td>{number}</td>\r\n            <td>\r\n                <button type='submit' onClick={() => handleDelete(name, id)}>\r\n                    delete\r\n                </button>\r\n            </td>\r\n        </tr>\r\n    )\r\n}\r\n\r\nconst Persons = ({ handleDelete, persons, filter }) => {\r\n    return (\r\n        <table>\r\n            <tbody>\r\n                {persons\r\n                    .filter((person) =>\r\n                        person.name.toLowerCase().includes(filter.toLowerCase())\r\n                    )\r\n                    .map((person) => (\r\n                        <Person\r\n                            key={person.name}\r\n                            handleDelete={handleDelete}\r\n                            id={person.id}\r\n                            name={person.name}\r\n                            number={person.number}\r\n                        />\r\n                    ))}\r\n            </tbody>\r\n        </table>\r\n    )\r\n}\r\n\r\nexport default Persons\r\n","import React from 'react'\r\n\r\nconst Notification = ({ announcement }) => {\r\n\tif (announcement === null) {\r\n\t\treturn null\r\n\t}\r\n\r\n\tswitch(announcement.type.toLowerCase()) {\r\n\t\tcase 'success':\r\n\t\t\treturn (\r\n\t\t\t\t<div className='notificationSuccess'>\r\n\t\t\t\t\t{announcement.message}\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\tcase 'error':\r\n\t\t\treturn (\r\n\t\t\t\t<div className='notificationError'>\r\n\t\t\t\t\t{announcement.message}\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\tdefault:\r\n\t\t\treturn null\r\n\t}\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then((response) => response.data)\r\n}\r\n\r\nconst create = (newPerson) => {\r\n    const request = axios.post(baseUrl, newPerson)\r\n    return request.then((response) => response.data)\r\n}\r\n\r\nconst update = (id, newPerson) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newPerson)\r\n    return request.then((response) => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then((response) => response.data)\r\n}\r\n\r\nconst exportedObject = {\r\n    getAll,\r\n    create,\r\n    update,\r\n    remove,\r\n}\r\n\r\nexport default exportedObject\r\n","import React, { useState, useEffect } from 'react'\r\n\r\nimport PersonForm from './components/PersonForm'\r\nimport Filter from './components/Filter'\r\nimport Persons from './components/Persons'\r\nimport Notification from './components/Notification'\r\n\r\nimport personService from './services/persons'\r\n\r\nconst App = () => {\r\n    const [persons, setPersons] = useState([])\r\n\r\n    const [newName, setNewName] = useState('')\r\n    const [newNumber, setNewNumber] = useState('')\r\n    const [filter, setFilter] = useState('')\r\n    const [announcement, setAnnouncement] = useState(null)\r\n\r\n    useEffect(() => {\r\n        personService.getAll().then((initialPersons) => {\r\n            setPersons(initialPersons)\r\n        })\r\n    }, [])\r\n\r\n    const successAnnouncement = (message) => {\r\n        setAnnouncement({ type: 'success', message: message })\r\n        setTimeout(() => {\r\n            setAnnouncement(null)\r\n        }, 5000)\r\n    }\r\n\r\n    const errorAnnouncement = (message) => {\r\n        setAnnouncement({ type: 'error', message: message })\r\n        setTimeout(() => {\r\n            setAnnouncement(null)\r\n        }, 5000)\r\n    }\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault()\r\n\r\n        const person = persons.find(\r\n            (person) => person.name.toLowerCase() === newName.toLowerCase()\r\n        )\r\n\r\n        if (person) {\r\n            if (\r\n                !window.confirm(\r\n                    `${person.name} is already added to phonebook, replace the old number with a new one?`\r\n                )\r\n            )\r\n                return\r\n        }\r\n\r\n        const personObject = {\r\n            name: newName,\r\n            number: newNumber,\r\n        }\r\n\r\n        if (person) {\r\n            personService\r\n                .update(person.id, personObject)\r\n                .then((returnedPerson) => {\r\n                    setPersons(\r\n                        persons.map((person) =>\r\n                            person.id === returnedPerson.id\r\n                                ? returnedPerson\r\n                                : person\r\n                        )\r\n                    )\r\n                    successAnnouncement(\r\n                        `Updated information of ${personObject.name}`\r\n                    )\r\n                })\r\n                .catch((error) => {\r\n                    if (error.response.data.name === 'ValidationError') {\r\n                        errorAnnouncement(error.response.data.error)\r\n                    } else {\r\n                        errorAnnouncement(\r\n                            `Information of ${personObject.name} has already been removed from server`\r\n                        )\r\n                    }\r\n                })\r\n        } else {\r\n            personService\r\n                .create(personObject)\r\n                .then((returnedPerson) => {\r\n                    setPersons(persons.concat(returnedPerson))\r\n                    successAnnouncement(\r\n                        `Added information of ${personObject.name}`\r\n                    )\r\n                })\r\n                .catch((error) => {\r\n                    if (error.response.data.name === 'ValidationError') {\r\n                        errorAnnouncement(error.response.data.error)\r\n                    }\r\n                })\r\n        }\r\n\r\n        setNewName('')\r\n        setNewNumber('')\r\n    }\r\n\r\n    const handleNameChange = (event) => {\r\n        setNewName(event.target.value)\r\n    }\r\n\r\n    const handleNumberChange = (event) => {\r\n        setNewNumber(event.target.value)\r\n    }\r\n\r\n    const handleFilterChange = (event) => {\r\n        setFilter(event.target.value)\r\n    }\r\n\r\n    const handleDelete = (name, id) => {\r\n        if (!window.confirm(`Delete ${name}?`)) return\r\n\r\n        personService.remove(id).then(() => {\r\n            personService\r\n                .getAll()\r\n                .then((returnedPersons) => setPersons(returnedPersons))\r\n        })\r\n\r\n        successAnnouncement(`Information of ${name} removed from server`)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h2>Phonebook</h2>\r\n            <Notification announcement={announcement} />\r\n            <Filter filter={filter} handleFilterChange={handleFilterChange} />\r\n            <h2>Add new</h2>\r\n            <PersonForm\r\n                handleSubmit={handleSubmit}\r\n                handleNameChange={handleNameChange}\r\n                handleNumberChange={handleNumberChange}\r\n                newName={newName}\r\n                newNumber={newNumber}\r\n            />\r\n            <h2>Numbers</h2>\r\n            <Persons\r\n                handleDelete={handleDelete}\r\n                persons={persons}\r\n                filter={filter}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default App\r\n","import ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n\n"],"sourceRoot":""}